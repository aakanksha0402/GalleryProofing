<% content_for :head, "GalleryProofing | Contact List"%>
<% content_for :body_class, "contact-index" %>
<% content_for :studio_class, "active"%>
<% if @not_authorized == true %>
<%= render '/dashboards/no_authorization' %>
<% else %>
<!-- top -->
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <!-- title -->
      <div class="page-title">
        <div class="row">
          <div class="col-md-6 col-sm-5 col-xs-5">
            <h2>
              <div id="pageTitleHeaderText">Contacts</div>
            </h2>
          </div>
          <div class="col-md-6 col-sm-7 col-xs-7">
            <div class="btn-group on-page-help-container">
              <a href="#" class="on-page-help dropdown-toggle" data-toggle="dropdown">
                <span class="fa fa-question"></span>
              </a>
              <ul id="onPageHelp" class="dropdown-menu dropdown-menu-right arrow-upper-right" role="menu">
                <li><%= link_to "Can I download all of my contacts information?", "#", target: "_blank" %></li>
                <li><%= link_to "How do I add and edit contacts?", "#", target: "_blank" %></li>
                <li><%= link_to "How do I view a contact's activity?", "#", target: "_blank"  %></li>
                <li><%= link_to "Browse Full Knowledge Base" ,"#", class: "bold", target: "_blank" %></li>
                <li><%= link_to "#", target: "_blank" do %>
                  <span class="email"><i class="fa fa-envelope"></i></span>Email-Us
                <% end %></li>
              </ul>
              </div>
              <div class="right-buttons text-right">
                <% unless @not_authorized_to_add == true %>
                  <%= link_to 'New Contact', new_contact_path, class: "btn btn-primary" %>
                <% end %>
              <% if @total_contacts.count != 0 && @contacts.count != 0 %>
                <%= link_to 'Download As CSV', contacts_path(format: "csv"), class: "btn btn-default" %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
        <!-- /title -->
      </div>
    </div>
  </div>
  <% if @total_contacts.count != 0 %>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <%= link_to "Search and Filter", "#modal-filter", id: "filter", "data-toggle": "modal", class: "btn btn-sm btn-default margin-bottom" %>
        <%if params[:search].present? || params[:gallery_access_privacy].present? || params[:shoot_year].present? || params[:brand].present? %>

        <ul class="search-terms">
          <% if params[:search].present? %>
            <li id="search-t"><%= link_to "#" do %><span class="close-tag" ><%= params[:search] %>  x</span><% end %></li>
          <% end %>
          <% if params[:gallery_access_privacy].present? %>
            <li id="gallery-t"><%= link_to "#" do %><span class="close-tag" ><%= params[:gallery] %>  x</span><% end %></li>
          <%end%>
          <% if params[:tags].present? %>
            <li id="tags-t"><%= link_to "#" do %><span class="close-tag" ><%= params[:tags] %>  x</span><% end %></li>
          <%end%>
          <% if params[:brand].present? %>
            <li id="brand-t"><%= link_to "#" do %><span class="close-tag" ><%= params[:brand] %>  x</span><% end %></li>
          <% end %>
          <%unless params[:search].nil? && params[:gallery].nil? && params[:tags].nil? && params[:brand].nil? %>
            <li><%= link_to "Clear All", galleries_path %></li>
          <%end%>
      </ul>
    <%end%>
    </div>
  </div>
  <% if @contacts.count >= 1 %>
  <div class="row">
    <div class="col-lg-12">
      <div class="table-responsive has-dropdown">
        <table class="table">
          <thead>
            <tr>
              <th><%= sortable "contacts.firstname", "Name" %></th>
              <th><%= sortable "contacts.email", "Email" %></th>
              <th><%= sortable "contacts.email", "Tags" %></th>
              <th><%= sortable "contacts.created_at", "Created" %><span class="caret"></span></th>
            </tr>
          </thead>
          <tbody>
          <% @contacts.each do |contact| %>
          <tr class='clickable-row' data-href="<%= edit_contact_path(contact) %>">
            <td><%= contact.firstname + " " + contact.lastname%></td>
            <td><%= contact.email %></td>
            <td><%= raw contact.tag_list.join (' ') %></td>
            <td><%= contact.created_at.strftime("%d-%b-%Y") %></td>
            <td class="quick-actions">
              <div class="dropdown text-right">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  Quick Actions
                  <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                  <li><%= link_to 'Duplicate', edit_contact_path(contact) %></li>
                  <li><%= link_to "Delete", "#del-contact-modal-#{contact.id}", "data-toggle": "modal"%></li>
                  <li><%= link_to "Create Invoice",  new_invoice_path(id: current_brand.id),target: :_blank %></li>
                </ul>
              </div>
            </td>
          </tr>
          <!-- modal for delete -->
          <div class="modal" id="del-contact-modal-<%= contact.id %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"  data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <% @c = contact.id %>
                <% @f_name = contact.firstname %>
                <% @l_name = contact.lastname %>
                <%= render "delete_modal" %>
              </div>
            </div>
          </div>
          <!-- modal for delete -->

          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<% else %>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <p class="empty-state lead">We didn’t find any results based on that search/filter. Try again?</p>
    </div>
  </div>
</div>
<% end %>

</div>
<% else %>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12 text-center">
      <div class="empty-state-icon"><!--?xml version="1.0" encoding="utf-8"?-->
        <!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 500 500" enable-background="new 0 0 500 500" xml:space="preserve">
          <g>
            <polygon fill="#FFF4E3" points="336.9,115.7 355.1,124.5 361.7,169.1 347.4,182.9   "></polygon>
            <polygon fill="#A5E7F9" points="343.6,176.3 361.7,185.1 368.4,229.8 354,243.5   "></polygon>
            <polygon opacity="0.15" fill="#39B54A" points="350.2,256.2 368.4,265 375,309.7 360.6,323.5  "></polygon>
            <path fill="#435054" d="M328.7,110l22.2,9.6l1.7,0.7l0,1.5c0,1.9,0.1,3.8,0.2,5.7c0,0.9,0.1,1.9,0.2,2.8c0.1,0.9,0.1,1.9,0.2,2.8
            c0.2,1.9,0.4,3.7,0.6,5.6c0.2,1.9,0.5,3.7,0.7,5.6c0.2,1.9,0.5,3.7,0.8,5.6c0.3,1.9,0.7,3.7,1,5.6c0.8,3.7,1.6,7.4,2.8,11l0.5,1.4
            l-1.3,1.2l-14.7,13.4l-3.4,3.1l-0.7-4.5L328.7,110z M334.2,117.4l10.1,62.9l-4.1-1.4l13.9-14.2l-0.9,2.6c0.1-3.8-0.2-7.6-0.5-11.3
            c-0.2-1.9-0.4-3.7-0.6-5.6c-0.2-1.9-0.5-3.7-0.8-5.6c-0.3-1.9-0.6-3.7-0.9-5.6c-0.3-1.9-0.7-3.7-1.1-5.5c-0.2-0.9-0.4-1.8-0.6-2.8
            c-0.2-0.9-0.4-1.8-0.6-2.8c-0.4-1.8-0.9-3.7-1.4-5.5l1.7,2.3L334.2,117.4z"></path>
            <path fill="#435054" d="M337.6,178.3l22.2,9.6l1.7,0.7l0,1.5c0,1.9,0.1,3.8,0.2,5.7c0,0.9,0.1,1.9,0.2,2.8c0.1,0.9,0.1,1.9,0.2,2.8
            c0.2,1.9,0.4,3.7,0.6,5.6c0.2,1.9,0.5,3.7,0.7,5.6c0.2,1.9,0.5,3.7,0.8,5.6c0.3,1.9,0.7,3.7,1,5.6c0.8,3.7,1.6,7.4,2.8,11l0.5,1.4
            l-1.3,1.2l-14.7,13.4l-3.4,3.1l-0.7-4.5L337.6,178.3z M343,185.7l10.1,62.9l-4.1-1.4l13.9-14.2l-0.9,2.6c0.1-3.8-0.2-7.6-0.5-11.3
            c-0.2-1.9-0.4-3.7-0.6-5.6c-0.2-1.9-0.5-3.7-0.8-5.6c-0.3-1.9-0.6-3.7-0.9-5.6c-0.3-1.9-0.7-3.7-1.1-5.5c-0.2-0.9-0.4-1.8-0.6-2.8
            c-0.2-0.9-0.4-1.8-0.6-2.8c-0.4-1.8-0.9-3.7-1.4-5.5l1.7,2.3L343,185.7z"></path>
            <path fill="#435054" d="M347.5,252.7l22.2,9.6l1.7,0.7l0,1.5c0,1.9,0.1,3.8,0.2,5.7c0,0.9,0.1,1.9,0.2,2.8c0.1,0.9,0.1,1.9,0.2,2.8
            c0.2,1.9,0.4,3.7,0.6,5.6c0.2,1.9,0.5,3.7,0.7,5.6c0.2,1.9,0.5,3.7,0.8,5.6c0.3,1.9,0.7,3.7,1,5.6c0.8,3.7,1.6,7.4,2.8,11l0.5,1.4
            l-1.3,1.2l-14.7,13.4l-3.4,3.1l-0.7-4.5L347.5,252.7z M353,260.2l10.1,62.9l-4.1-1.4l13.9-14.2l-0.9,2.6c0.1-3.8-0.2-7.6-0.5-11.3
            c-0.2-1.9-0.4-3.7-0.6-5.6c-0.2-1.9-0.5-3.7-0.8-5.6c-0.3-1.9-0.6-3.7-0.9-5.6c-0.3-1.9-0.7-3.7-1.1-5.5c-0.2-0.9-0.4-1.8-0.6-2.8
            c-0.2-0.9-0.4-1.8-0.6-2.8c-0.4-1.8-0.9-3.7-1.4-5.5l1.7,2.3L353,260.2z"></path>
            <path opacity="0.15" fill="#435054" d="M133.9,143.1c0,0,30.4-1.8,57.4-4.5c28.6-2.9,58.7-7,84.9-11.6
            c26.9-4.8,63.3-10.9,63.3-10.9s2.5,21.6,6.4,50.3c3.9,28.7,26.9,210.6,26.9,210.6s-103.1,10.6-133.9,15
            c-30.5,4.4-71.1,2.8-71.1,2.8s-22.8-171-26.9-201.5S133.9,143.1,133.9,143.1z"></path>
            <g>
              <path fill="#FFFFFF" d="M134.1,136.5c0,0,21.9-2.1,48.9-4.9c28.6-2.9,58.7-7,84.9-11.6c26.9-4.8,59.7-10.9,59.7-10.9
              s2.7,21.6,6.6,50.3c3.9,28.7,30.3,210.6,30.3,210.6s-72.2,7.5-116.9,13.4c-46.3,6.1-88.2,4.4-88.2,4.4S145.1,217.3,141,186.8
              S134.1,136.5,134.1,136.5z"></path>
              <path fill="#435054" d="M133.9,134.9c4-0.5,8.1-1,12.1-1.4l12.2-1.2l24.3-2.3c16.2-1.6,32.3-3.5,48.5-5.7
              c8.1-1.1,16.1-2.3,24.1-3.6c8-1.3,16-2.7,24.1-4.2l48.1-8.5l0,0l1.5,1.1c1.2,2.6,1.5,5.3,1.9,8.1l1.1,8.2l1.1,8.2l1,8.2l2,16.3
              c0.7,5.4,1.4,10.9,2.2,16.3c1.5,10.9,3,21.7,4.6,32.6l4.8,32.6l9.7,65.2l4.8,32.6l2.4,16.3l2.3,16.3v0l0.3,2.3l-2.2,0.2
              c-4.3,0.3-8.5,0.8-12.8,1.2c-4.3,0.4-8.5,0.8-12.8,1.3l-25.6,2.8c-17.1,1.9-34.1,3.9-51.1,6.1l-12.8,1.6
              c-4.3,0.5-8.5,1.1-12.8,1.6l-6.4,0.7l-6.4,0.6c-4.3,0.4-8.6,0.7-12.9,1c-4.3,0.3-8.6,0.5-12.9,0.7c-4.3,0.2-8.6,0.4-12.9,0.5
              c-4.3,0.1-8.6,0.2-12.9,0.2c-4.3,0-8.6,0.1-13,0l0,0l-2.5-0.1l-0.1-2.3c-0.2-10.5-1.1-21-2-31.5c-0.5-5.2-1.1-10.5-1.7-15.7
              l-2.1-15.7c-0.7-5.2-1.3-10.5-1.8-15.7c-0.5-5.2-0.9-10.5-1.3-15.7l-0.6-7.9l-0.5-7.9l-1-15.8l-1.1-15.8l-0.6-7.9l-0.7-7.9
              c-0.4-5.2-1-10.5-1.8-15.7c-0.8-5.2-1.6-10.4-2.2-15.6c-0.6-5.2-1.1-10.4-1.8-15.6c-0.6-5.2-1.3-10.5-1.9-15.7
              c-0.6-5.2-1.2-10.5-1.7-15.7c-0.5-5.2-1.1-10.5-1.5-15.7l-0.1-1.6L133.9,134.9z M136,138c0.9,4.6,1.6,9.2,2.5,13.9
              c0.9,5.2,1.7,10.4,2.6,15.6c0.8,5.2,1.6,10.4,2.4,15.6c0.4,2.6,0.7,5.2,1.1,7.9c0.4,2.6,0.7,5.3,0.9,7.9c0.6,5.3,0.7,10.5,1,15.8
              c0.2,5.3,0.6,10.5,1.2,15.8l0.8,7.9l0.9,7.9l1.8,15.7l1.8,15.7l0.9,7.9l0.8,7.9c0.5,5.2,1,10.5,1.4,15.7c0.4,5.2,0.7,10.5,1,15.8
              l0.6,15.8c0.2,5.3,0.6,10.5,1,15.8c0.8,10.5,1.8,21,3.3,31.4l-2.5-2.4h0c4.2,0.2,8.5,0.4,12.8,0.4c4.3,0.1,8.5,0.1,12.8,0
              c4.3-0.1,8.6-0.1,12.8-0.3c4.3-0.2,8.5-0.4,12.8-0.6c4.3-0.2,8.5-0.6,12.8-0.9l6.4-0.5l6.4-0.6c4.2-0.4,8.5-1,12.8-1.5l12.8-1.6
              c17.1-2.1,34.1-4,51.2-5.9l25.6-2.8l12.8-1.5c4.3-0.5,8.5-1,12.8-1.5l-1.9,2.4v0c-1.6-10.9-3.2-21.7-4.8-32.6l-4.7-32.6l-9.1-65.2
              l-4.6-32.6l-2.3-16.3l-2.4-16.3l-2.4-16.3l-2.3-16.3l-1.1-8.2l-1.1-8.2l-1.1-8.2c-0.4-2.7-0.8-5.4-0.3-8.3l1.5,1.1l0,0l-48,9
              l-12,2.2c-4,0.7-8,1.4-12.1,2.1c-8,1.3-16.1,2.6-24.2,3.7c-16.2,2.3-32.3,4.3-48.6,6l-24.3,2.5l-12.2,1.2
              C143,137.5,139.5,137.8,136,138z"></path>
            </g>
            <g>
              <path fill="#FFFFFF" d="M130.2,132.2c0,0,23.2-8.4,50.2-11.2c28.6-2.9,58.7-7,84.9-11.6c26.9-4.8,61.7-10.9,61.7-10.9
              s2.7,21.6,6.6,50.3c3.9,28.7,28.3,210.6,28.3,210.6l-203.7,27.2c0,0-19.4-181-23.5-211.5S130.2,132.2,130.2,132.2z"></path>
              <path fill="#435054" d="M129.7,130.7c4-1.5,7.9-2.8,12-4c4-1.2,8.1-2.2,12.2-3.1c4.1-0.9,8.2-1.7,12.3-2.4
              c4.1-0.7,8.3-1.3,12.5-1.7l12.4-1.3l12.4-1.4c8.3-1,16.5-2,24.8-3.1c8.2-1.1,16.5-2.3,24.7-3.7c8.2-1.3,16.4-2.8,24.6-4.2
              l49.2-8.4l0,0l0.8-0.3l0.7,1.4c1.2,2.6,1.5,5.3,1.9,8.1l1.1,8.2l1.1,8.2l1,8.2l2,16.3l2.1,16.3l2.1,16.3l2.2,16.3l4.5,32.6l9,65.2
              l4.4,32.6c1.5,10.9,2.9,21.7,4.3,32.6l0,0l0.3,2.2l-2.1,0.2c-4.3,0.5-8.5,1-12.8,1.5l-12.7,1.6l-25.5,3.4l-25.5,3.4
              c-8.5,1.1-17,2.3-25.5,3.5l-50.9,7l-12.7,1.7l-6.4,0.8c-2.1,0.3-4.2,0.6-6.4,0.7c-2.1,0.2-4.3,0.2-6.4,0.3
              c-2.1,0.1-4.3,0.3-6.4,0.6c-2.1,0.3-4.2,0.7-6.3,1.2c-2.1,0.5-4.2,1.1-6.2,1.9l0,0l-2.8,1.2l-0.2-3.5c-0.3-5.3-0.7-10.7-1.1-16
              c-0.5-5.3-1-10.6-1.6-15.9c-0.6-5.3-1.3-10.6-2-15.9l-2.4-15.8c-0.8-5.3-1.6-10.6-2.2-15.9c-0.7-5.3-1.2-10.6-1.7-15.9
              c-0.5-5.3-1.1-10.6-1.5-15.9l-1.4-15.9l-1.4-15.9c-0.4-5.3-1-10.6-1.5-15.9c-0.6-5.3-1.1-10.6-1.8-15.9
              c-0.7-5.3-1.7-10.5-2.5-15.8c-0.9-5.3-1.5-10.6-2.1-15.8c-0.6-5.3-1.3-10.6-1.8-15.9c-0.5-5.3-1-10.7-1.3-16
              c-0.2-2.7-0.3-5.4-0.4-8c-0.1-2.7-0.2-5.3-0.1-8.1l0-1.2L129.7,130.7z M132,133.4c0.2,2.2,0.5,4.4,0.7,6.6l1,7.9
              c0.7,5.3,1.4,10.5,2.2,15.8c0.7,5.3,1.6,10.5,2.3,15.8c0.8,5.3,1.4,10.6,1.8,15.9c0.4,5.3,0.7,10.7,1.1,16
              c0.5,5.3,1.2,10.6,1.8,15.9c0.7,5.3,1.3,10.6,2.1,15.9l2.2,15.9l2.1,15.9c0.7,5.3,1.3,10.6,2,15.9c0.6,5.3,1.2,10.6,1.7,15.9
              c0.5,5.3,0.9,10.6,1.3,16l1,16c0.4,5.3,0.9,10.6,1.4,15.9c0.5,5.3,1.1,10.6,1.8,15.9c0.7,5.3,1.4,10.6,2.3,15.8l-2.9-2.3l0,0
              c2.2,0.3,4.4,0.3,6.5,0.2c2.2-0.1,4.3-0.3,6.4-0.5c2.1-0.3,4.2-0.7,6.3-1.1c2.1-0.5,4.2-1,6.3-1.4c2.1-0.4,4.2-0.7,6.3-1l6.4-0.9
              l12.7-1.7l51-6.5c8.5-1.1,17-2.2,25.5-3.3l25.5-3.4l25.5-3.4l12.7-1.8c4.2-0.6,8.5-1.2,12.7-1.9l-1.8,2.4v0
              c-1.5-10.9-3-21.7-4.4-32.6l-4.3-32.6l-8.5-65.3l-4.3-32.6l-2.2-16.3l-2.2-16.3l-4.6-32.6l-1.1-8.2l-1.1-8.2L326,107
              c-0.4-2.7-0.8-5.4-0.3-8.3l1.5,1.1l0,0l-49.2,8.9c-8.2,1.5-16.4,3-24.6,4.3c-8.2,1.4-16.5,2.6-24.7,3.8
              c-8.3,1.2-16.5,2.3-24.8,3.3l-12.4,1.5l-12.4,1.4c-4.1,0.4-8.2,1.1-12.3,1.8c-4.1,0.7-8.1,1.5-12.1,2.5c-4,0.9-8,2-12,3
              C139.1,131.3,135.5,132.3,132,133.4z"></path>
            </g>
            <g>
              <path fill="#FFFFFF" d="M156.7,384.6c0,0-1.4-27.1-5.3-55.8c-3.9-28.7-26.3-204.9-26.3-204.9s29.2-8.6,70.1-16
              c45-8.1,132.3-14.3,132.3-14.3s24.8,177.8,28.9,208.3s7.5,44.1,7.5,44.1S249.9,355.8,156.7,384.6z"></path>
              <path fill="#435054" d="M154.5,384.8c-0.6-5.4-1.1-10.9-1.5-16.3c-0.5-5.4-0.9-10.9-1.5-16.3c-0.5-5.4-1.1-10.8-1.8-16.3
              l-2.1-16.3l-8.3-65.1l-8.2-65.1l-8.1-65.2l-0.2-1.8l1.7-0.5l0,0c4.2-1.2,8.3-2.2,12.5-3.3c4.2-1.1,8.3-2.1,12.5-3.1
              c8.3-2,16.7-3.9,25.1-5.7c4.2-0.9,8.4-1.7,12.6-2.5l6.3-1.2c2.2-0.4,4.2-0.7,6.3-1.1c4.2-0.8,8.5-1.4,12.7-2l12.7-1.8
              c4.2-0.5,8.5-1.1,12.7-1.6c4.2-0.5,8.5-1,12.8-1.5c8.5-1,17-1.8,25.5-2.7c8.5-0.8,17-1.6,25.6-2.3c8.5-0.7,17-1.4,25.6-1.9
              l2.3-0.2l0.3,2.2l2,15.8c0.7,5.3,1.4,10.5,2.1,15.8l4.4,31.6l8.9,63.1l4.5,31.6c0.8,5.3,1.5,10.5,2.3,15.8
              c0.8,5.3,1.7,10.5,2.5,15.7c0.9,5.2,1.6,10.5,2.2,15.8c0.3,2.6,0.7,5.3,0.9,7.9l0.9,7.9c0.6,5.3,1.4,10.5,2.3,15.7
              c0.9,5.2,1.9,10.5,3.2,15.5v0l0.7,2.6l-2.9,0.4l-26.1,3.3l-13.1,1.6l-13.1,1.7l-13.1,1.8c-4.4,0.6-8.7,1.2-13,1.8
              c-4.3,0.6-8.7,1.3-13,2c-4.3,0.7-8.7,1.4-13,2.2l-13,2.4c-4.3,0.8-8.6,1.6-12.9,2.7c-4.3,1-8.5,2.2-12.8,3.3
              c-4.2,1.2-8.5,2.2-12.8,3.2l-6.4,1.5l-6.4,1.5c-4.3,1-8.5,2-12.8,3l-12.8,3.1c-4.3,1-8.5,2.2-12.8,3.1l-2.5,0.6L154.5,384.8z
              M158.8,381.6c3.3-1.2,6.5-2.3,9.8-3.4c4.2-1.4,8.4-2.7,12.7-3.9c2.1-0.6,4.2-1.2,6.4-1.8c2.1-0.6,4.3-1.2,6.4-1.7
              c4.3-1.1,8.6-2.2,12.9-3.2c4.3-1,8.6-1.8,13-2.6l13.1-2.1c4.3-0.7,8.7-1.6,13-2.4l13-2.4l13-2.4l13-2.3c4.3-0.7,8.7-1.5,13-2.1
              c4.4-0.7,8.7-1.4,13.1-2l13.1-1.8c4.4-0.6,8.8-1.1,13.1-1.6c4.4-0.5,8.8-0.9,13.2-1.3c4.4-0.4,8.8-0.7,13.2-1l-2.1,3l0,0
              l-2.9-15.8l-2.9-15.7c-0.9-5.3-1.8-10.5-2.6-15.8c-0.8-5.3-1.6-10.5-2.2-15.8c-0.6-5.3-1.2-10.6-1.9-15.8
              c-0.6-5.3-1.4-10.5-2.1-15.8l-4.2-31.6l-8.6-63.2l-4.4-31.6c-0.7-5.3-1.5-10.5-2.3-15.8L325.2,94l2.6,2.1
              c-8.5,0.7-17,1.4-25.5,2.1c-8.5,0.7-17,1.5-25.5,2.3c-8.5,0.8-17,1.6-25.5,2.5c-4.2,0.4-8.5,0.9-12.7,1.4c-4.2,0.4-8.5,1-12.7,1.5
              l-12.7,1.6c-4.2,0.6-8.4,1.2-12.6,1.9c-2.1,0.4-4.2,0.7-6.3,1.1l-6.3,1.1c-4.2,0.8-8.4,1.6-12.5,2.5c-8.4,1.7-16.7,3.5-25,5.5
              c-4.1,1-8.3,2-12.4,3.1c-4.1,1.1-8.2,2.2-12.3,3.4v0l1.5-2.3l8.6,65.1l8.5,65.1l8.4,65.1l2.1,16.3c0.7,5.5,1.3,10.9,1.8,16.4
              c0.5,5.5,1.1,10.9,1.4,16.4C158.5,372.6,158.7,377.1,158.8,381.6z"></path>
            </g>
            <path fill="#5CC0E2" d="M213.1,195.1c-1.7,0-3.2-1.1-3.7-2.8l-5.7-18.6c-0.6-2.1,0.5-4.2,2.6-4.9c2.1-0.6,4.2,0.5,4.9,2.6l1.4,4.6
            l3.8-16.9c0.4-1.7,1.8-2.9,3.4-3c1.7-0.2,3.3,0.8,3.9,2.3l5.8,13.5l2.7-14.1c0.3-1.7,1.7-3,3.4-3.1c1.7-0.2,3.3,0.8,4,2.3l5.9,13.4
            l5.4-13.3c0.6-1.4,1.8-2.3,3.3-2.4c1.5-0.1,2.9,0.6,3.6,1.9l10.2,17.3c1.1,1.9,0.5,4.2-1.4,5.3c-1.9,1.1-4.2,0.5-5.3-1.4l-6.2-10.5
            l-5.9,14.6c-0.6,1.5-2,2.4-3.6,2.4c-1.5,0.1-3-0.9-3.6-2.3l-4.5-10.4l-2.7,14.2c-0.3,1.7-1.7,3-3.4,3.1c-1.7,0.2-3.3-0.8-4-2.3
            l-6.1-14.2L217,192c-0.4,1.7-1.9,3-3.7,3C213.2,195.1,213.2,195.1,213.1,195.1z"></path>
            <path fill="#435054" d="M293.7,184.3c-2.2,0.5-4.4,0.9-6.6,1.3c-2.2,0.4-4.4,0.7-6.6,1c-4.4,0.7-8.8,1.3-13.2,1.9l-26.4,3.6
            l-13.2,1.8l-6.6,0.9l-6.6,0.9l-26.4,3.7l0,0l-2,0.3l-1.1-2.9c-0.2-0.5-0.1-1-0.2-1.5l-0.2-1.6l-0.2-1.6l-0.2-1.7l-0.4-3.4l-0.4-3.3
            c-0.3-2.2-0.4-4.5-0.6-6.7c-0.2-2.2-0.4-4.5,0.1-6.8l0,0l0.5-2.3l1.4-0.1c4.4-0.3,8.7-0.8,13-1.4c4.3-0.6,8.6-1.3,13-2l12.9-2.1
            c4.3-0.7,8.6-1.3,13-1.9l13-1.9l13-1.8c8.7-1.1,17.3-2.5,26.1-2.9h0l2.1-0.1l0.7,2.2c0.2,0.5,0.3,1.1,0.4,1.6
            c0.1,0.5,0.2,1.1,0.3,1.6c0.1,1.1,0.3,2.2,0.3,3.3c0.1,1.1,0.2,2.2,0.3,3.3c0.2,1.1,0.4,2.2,0.6,3.2c0.2,1.1,0.5,2.1,0.7,3.2
            c0.2,1.1,0.2,2.2,0.4,3.3c0,0.5,0.1,1.1,0.1,1.6l0,0.2l0,0.1c0,0,0,0.1,0,0l0,0l0,0.1l0,0.4c0,0.2,0,0.4,0.1,0.7
            c0.1,0.5,0.1,0.9,0.2,1.3c0,0.2,0.1,0.4,0.1,0.6l0.1,0.3l0,0.1c0,0,0,0.1,0,0L293.7,184.3z M290,180.2c-0.1-0.2-0.2-0.4-0.2-0.7
            c-0.1-0.3-0.2-0.6-0.3-1l-0.2-0.8c-0.1-0.5-0.2-1.1-0.3-1.6c-0.2-1.1-0.4-2.2-0.5-3.3c-0.1-1.1-0.2-2.2-0.2-3.3
            c0-1.1-0.1-2.2-0.2-3.3c-0.1-1.1-0.3-2.2-0.5-3.2c-0.2-1.1-0.4-2.2-0.6-3.2c-0.1-0.5-0.1-1.1-0.2-1.6c0-0.5-0.1-1.1,0-1.7l2.7,2.1
            l0,0c-8.6,1.9-17.3,2.8-25.9,4l-13,1.6l-13,1.6c-4.3,0.5-8.7,1-13,1.5l-13,1.4c-4.3,0.4-8.7,1-13,1.5c-4.3,0.6-8.7,1.2-13,2
            l1.9-2.4l0,0c0.9,2.2,1.2,4.4,1.5,6.6c0.3,2.2,0.5,4.4,0.7,6.7l0.6,6.6l0.4,3.3l0.1,1.8c0,0.6,0.1,1.1,0,1.8l-3.1-2.6l0,0l26.4-3.7
            l6.6-0.9l6.6-0.9l13.2-1.7l26.4-3.4c4.4-0.6,8.8-1.2,13.2-1.8c2.2-0.3,4.4-0.6,6.6-0.9C287.6,180.5,288.8,180.3,290,180.2z"></path>
            <path fill="#435054" d="M131,181.6c0,0-0.2,0-0.6,0c-0.3,0-0.6-0.1-1-0.1c-0.4-0.1-0.8-0.1-1.3-0.2c-1.9-0.4-4.5-1.3-7.1-3.3
            c-2.5-2-4.9-5.2-5.8-9.1c-0.2-1-0.4-2-0.4-3l0-0.8l0-0.7c0-0.5,0.1-1.1,0.2-1.6c0.3-2.1,1-4.2,2.1-6c2.1-3.7,5.8-6.5,9.8-7.5
            c1-0.3,2-0.4,2.9-0.5c0.2,0,0.5,0,0.7,0l0.4,0l0.2,0l0.1,0l0,0l0.1,0c0.4,0,0.7,0,1.3,0.1c1,0.2,1.8,0.4,2.6,0.8
            c0.8,0.3,1.5,0.7,2.2,1.1c2.7,1.6,4.7,3.1,6,4.4c0.7,0.6,1.2,1.1,1.6,1.5c0.4,0.4,0.6,0.6,0.6,0.6l0.3,0.3c1.5,1.2,1.7,3.4,0.5,4.8
            c-1.2,1.5-3.4,1.7-4.8,0.5c-0.8-0.7-1.2-1.7-1.2-2.7c0,0,0-0.2-0.1-0.6c0-0.4-0.2-0.9-0.5-1.5c-0.3-0.6-0.8-1.3-1.4-1.9
            c-0.7-0.6-1.6-1.2-2.7-1.5c-0.6-0.1-1.1-0.2-1.7-0.3c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6,0-0.9,0c-0.2,0-0.7,0-1.1,0l-0.1,0l0,0
            c0.2,0,0,0,0.1,0l0,0l-0.1,0l-0.2,0c-0.2,0-0.3,0-0.5,0c-0.6,0.1-1.3,0.2-1.9,0.4c-1.3,0.4-2.5,0.9-3.7,1.7
            c-1.1,0.8-2.1,1.9-2.9,3.1c-0.7,1.2-1.2,2.6-1.4,4c-0.1,0.4-0.1,0.7-0.1,1l0,0.6l0,0.5c0,0.7,0.1,1.4,0.3,2
            c0.3,1.3,0.9,2.5,1.6,3.5c0.7,1,1.5,1.8,2.4,2.5c1.7,1.3,3.5,1.8,4.6,1.9c0.3,0.1,0.6,0.1,0.8,0.1c0.2,0,0.4,0,0.5,0
            c0.4,0,0.6,0,0.6,0c1.7,0,3,1.4,3,3c0,1.7-1.4,3-3,3C131.1,181.6,131.1,181.6,131,181.6z"></path>
            <path fill="#435054" d="M137.3,237.7c0,0-0.2,0-0.7,0c-0.3,0-0.6-0.1-1-0.1c-0.4-0.1-0.8-0.1-1.3-0.2c-1.9-0.4-4.6-1.3-7.2-3.3
            c-2.6-2-5-5.3-5.9-9.3c-0.2-1-0.4-2-0.4-3.1l0-0.8l0-0.7c0-0.5,0.1-1.1,0.2-1.6c0.3-2.1,1-4.2,2.1-6.1c2.2-3.8,5.9-6.6,9.9-7.7
            c1-0.3,2-0.4,3-0.5c0.2,0,0.5,0,0.7,0l0.4,0l0.2,0l0.1,0l0,0l0.1,0c0.4,0,0.7,0,1.3,0.1c1,0.2,1.8,0.4,2.7,0.8
            c0.8,0.3,1.6,0.7,2.2,1.1c2.7,1.6,4.7,3.2,6.1,4.5c0.7,0.6,1.2,1.2,1.6,1.5c0.4,0.4,0.6,0.6,0.6,0.6l0.3,0.3
            c1.4,1.2,1.6,3.3,0.4,4.8s-3.3,1.6-4.8,0.4c-0.8-0.7-1.2-1.6-1.2-2.6c0,0,0-0.2-0.1-0.6c-0.1-0.4-0.2-0.9-0.5-1.5
            c-0.3-0.6-0.8-1.3-1.5-1.9c-0.7-0.6-1.6-1.2-2.8-1.5c-0.6-0.2-1.2-0.2-1.8-0.3c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6,0-0.9,0
            c-0.2,0-0.7,0-1.1,0l-0.1,0l0,0c0.2,0,0,0,0.1,0l0,0l-0.1,0l-0.2,0c-0.2,0-0.3,0-0.5,0c-0.7,0.1-1.3,0.2-2,0.4
            c-1.3,0.4-2.6,0.9-3.8,1.8c-1.2,0.8-2.2,1.9-3,3.2c-0.8,1.3-1.3,2.7-1.5,4.1c-0.1,0.4-0.1,0.7-0.1,1l0,0.6l0,0.5
            c0,0.7,0.2,1.4,0.3,2.1c0.3,1.3,0.9,2.5,1.6,3.6c0.7,1,1.6,1.9,2.5,2.5c1.8,1.3,3.5,1.8,4.8,2c0.3,0.1,0.6,0.1,0.8,0.1
            c0.2,0,0.4,0,0.6,0c0.4,0,0.7,0,0.7,0c1.7,0,3,1.4,3,3s-1.4,3-3,3C137.4,237.7,137.3,237.7,137.3,237.7z"></path>
            <path fill="#435054" d="M144.2,288.4c0,0-0.2,0-0.6,0c-0.3,0-0.6-0.1-1-0.1c-0.4-0.1-0.8-0.1-1.2-0.2c-1.8-0.4-4.5-1.3-7-3.3
            c-2.5-2-4.9-5.2-5.8-9.1c-0.2-1-0.4-2-0.4-3l0-0.8l0-0.7c0-0.5,0.1-1.1,0.2-1.6c0.3-2.1,1-4.1,2.1-6c2.1-3.7,5.8-6.5,9.7-7.5
            c1-0.3,2-0.4,2.9-0.5c0.2,0,0.5,0,0.7,0l0.4,0l0.2,0l0.1,0l0,0l0.1,0c0.4,0,0.7,0,1.3,0.1c1,0.2,1.8,0.4,2.6,0.8
            c0.8,0.3,1.5,0.7,2.2,1.1c2.7,1.6,4.6,3.1,6,4.4c0.7,0.6,1.2,1.1,1.6,1.5c0.4,0.4,0.6,0.6,0.6,0.6l0.3,0.3c1.5,1.2,1.7,3.4,0.5,4.8
            s-3.4,1.7-4.8,0.5c-0.8-0.7-1.3-1.7-1.2-2.7c0,0,0-0.2-0.1-0.5c0-0.4-0.2-0.9-0.5-1.5c-0.3-0.6-0.7-1.3-1.4-1.9
            c-0.7-0.6-1.6-1.2-2.7-1.5c-0.5-0.1-1.1-0.2-1.7-0.3c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6,0-0.9,0c-0.2,0-0.7,0-1.1,0l-0.1,0l0,0
            c0.2,0,0,0,0.1,0l0,0l-0.1,0l-0.2,0c-0.2,0-0.3,0-0.5,0c-0.6,0.1-1.3,0.2-1.9,0.4c-1.3,0.4-2.5,0.9-3.6,1.7
            c-1.1,0.8-2.1,1.9-2.9,3.1c-0.7,1.2-1.2,2.6-1.4,4c-0.1,0.4-0.1,0.6-0.1,1l0,0.6l0,0.5c0,0.7,0.1,1.4,0.3,2
            c0.3,1.3,0.9,2.5,1.6,3.5c0.7,1,1.5,1.8,2.4,2.4c1.7,1.3,3.4,1.8,4.6,1.9c0.3,0.1,0.6,0.1,0.8,0.1c0.2,0,0.4,0,0.5,0
            c0.4,0,0.6,0,0.6,0c1.7,0,3,1.4,3,3c0,1.7-1.4,3-3,3C144.3,288.4,144.3,288.4,144.2,288.4z"></path>
            <path fill="#435054" d="M152.3,345.8c0,0-0.2,0-0.7,0c-0.3,0-0.6-0.1-1-0.1c-0.4-0.1-0.8-0.1-1.3-0.2c-1.9-0.4-4.6-1.3-7.2-3.3
            c-2.6-2-5-5.3-5.9-9.3c-0.2-1-0.4-2-0.4-3.1l0-0.8l0-0.7c0-0.5,0.1-1.1,0.2-1.6c0.3-2.1,1-4.2,2.1-6.1c2.2-3.8,5.9-6.7,9.9-7.7
            c1-0.3,2-0.4,3-0.5c0.2,0,0.5,0,0.7,0l0.4,0l0.2,0l0.1,0l0,0l0.1,0c0.4,0,0.7,0,1.3,0.1c1,0.2,1.8,0.4,2.7,0.8
            c0.8,0.3,1.6,0.7,2.2,1.1c2.7,1.6,4.7,3.2,6.1,4.5c0.7,0.6,1.2,1.2,1.6,1.5c0.4,0.4,0.6,0.6,0.6,0.6l0.3,0.3
            c1.4,1.2,1.6,3.3,0.4,4.8c-1.2,1.4-3.3,1.6-4.8,0.4c-0.8-0.7-1.2-1.6-1.2-2.6c0,0,0-0.2-0.1-0.6c-0.1-0.4-0.2-0.9-0.5-1.5
            c-0.3-0.6-0.8-1.3-1.5-1.9c-0.7-0.6-1.6-1.2-2.8-1.5c-0.6-0.2-1.2-0.2-1.8-0.3c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6,0-0.9,0
            c-0.2,0-0.7,0-1.1,0l-0.1,0l0,0c0.2,0,0,0,0.1,0l0,0l-0.1,0l-0.2,0c-0.2,0-0.3,0-0.5,0c-0.7,0.1-1.3,0.2-2,0.4
            c-1.3,0.4-2.6,0.9-3.8,1.8c-1.2,0.8-2.2,1.9-3,3.2c-0.8,1.3-1.3,2.7-1.5,4.1c-0.1,0.4-0.1,0.7-0.1,1l0,0.6l0,0.5
            c0,0.7,0.2,1.4,0.3,2.1c0.3,1.3,0.9,2.5,1.6,3.6c0.7,1,1.6,1.9,2.5,2.5c1.8,1.3,3.5,1.8,4.8,2c0.3,0.1,0.6,0.1,0.8,0.1
            c0.2,0,0.4,0,0.6,0c0.4,0,0.7,0,0.7,0c1.7,0,3,1.4,3,3s-1.4,3-3,3C152.4,345.8,152.3,345.8,152.3,345.8z"></path>
            <g>
              <line fill="#FFFFFF" x1="196.4" y1="219.3" x2="289.3" y2="206.5"></line>
              <path fill="#435054" d="M196.3,218.7c0,0,0.3-0.2,1-0.4c0.7-0.3,1.6-0.6,2.9-1c2.5-0.8,6-1.9,10.3-2.8c2.2-0.5,4.5-0.9,7-1.3
              c2.5-0.4,5.1-0.8,7.8-1.1c5.4-0.7,11.3-1.5,17.1-2.1c2.9-0.3,5.8-0.6,8.7-1c2.9-0.3,5.7-0.6,8.4-0.8c2.7-0.3,5.4-0.5,7.9-0.7
              c2.5-0.2,4.9-0.4,7.1-0.6c2.2-0.1,4.2-0.3,6-0.4c1.8-0.1,3.4-0.2,4.6-0.3c2.6-0.1,4-0.2,4-0.2l0.1,1.1c0,0-1.4,0.4-3.9,0.9
              c-1.3,0.3-2.8,0.6-4.5,1c-1.7,0.4-3.7,0.8-5.9,1.2c-2.2,0.5-4.5,0.9-7,1.4c-2.5,0.5-5.1,1-7.8,1.5c-2.7,0.5-5.5,1-8.4,1.5
              c-2.8,0.5-5.7,0.9-8.6,1.4c-5.8,0.9-11.6,1.8-17,2.5c-2.7,0.4-5.4,0.8-7.9,1c-2.5,0.3-4.9,0.5-7.1,0.6c-4.4,0.2-8.1,0.2-10.7,0.1
              c-1.3-0.1-2.3-0.1-3-0.2c-0.7-0.1-1.1-0.1-1.1-0.1L196.3,218.7z"></path>
            </g>
            <g>
              <line fill="#FFFFFF" x1="213.5" y1="231.4" x2="275.8" y2="223.1"></line>
              <path fill="#435054" d="M213.4,230.9c0,0,0.2-0.1,0.7-0.4c0.4-0.2,1.1-0.5,1.9-0.9c1.6-0.7,4-1.6,6.9-2.3c1.4-0.4,3-0.7,4.7-1
              c1.7-0.3,3.4-0.5,5.3-0.7c3.7-0.5,7.6-0.9,11.5-1.3c7.8-0.8,15.7-1.3,21.6-1.5c1.5,0,2.8-0.1,4-0.1c1.2,0,2.3,0,3.1,0
              c1.7,0,2.7,0,2.7,0l0.1,1.1c0,0-1,0.3-2.6,0.7c-0.8,0.2-1.9,0.5-3,0.8c-1.2,0.3-2.5,0.6-3.9,0.9c-5.8,1.4-13.5,2.9-21.2,4.2
              c-3.9,0.6-7.8,1.2-11.4,1.7c-1.8,0.3-3.6,0.5-5.3,0.7c-1.7,0.2-3.3,0.2-4.8,0.3c-3,0-5.5-0.2-7.2-0.4c-0.9-0.2-1.6-0.3-2.1-0.4
              c-0.5-0.1-0.7-0.2-0.7-0.2L213.4,230.9z"></path>
            </g>
            <path opacity="0.1" fill="#435054" d="M160,386.3c-1.5,0-2.9-0.8-3.5-2.3c-0.9-1.9,0-4.2,1.9-5.1c0.9-0.4,22.1-10,69.8-19
            c41.4-7.8,109-17.1,125.9-19.4L319.3,97.5c-0.3-2.1,1.2-4.1,3.3-4.4c2.1-0.3,4.1,1.2,4.4,3.3l35.8,250.8l-3.9,0.5
            c-0.8,0.1-82.2,10.9-129.3,19.8c-46.8,8.8-67.8,18.4-68,18.5C161.1,386.2,160.6,386.3,160,386.3z"></path>
          </g>
        </svg>
      </div>
    </div>
    <div class="col-lg-12 text-center">
      <p class="empty-state lead">Contacts allow you to keep track of your Clients’ or Vendors’ contact details, activity and referrals.</p>
      <p class="empty-state trail before-cta">Create your first Contact!</p>
      <div class="last-btn">
      <% unless @not_authorized_to_add == true %>
        <%= link_to 'New Contact', new_contact_path, class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
</div>
<% end %>
<!-- Modal -->
<div class="modal" id="modal-filter" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"  data-backdrop="static" data-keyboard="false" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Search Contacts</h4>
      </div>
      <%= form_tag(contacts_path, :method => "get", id: "search-form") do %>
        <div class="modal-body">
        <%= render "search" %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <%= submit_tag "Search", name: nil, class: "btn btn-primary"%>
        </div>
      <% end %>
  </div>
</div>
</div>
<!-- /mMdal -->

<script>
function removeURLParameter(url, parameter) {
    //prefer to use l.search if you have a location/link object
    var urlparts= url.split('?');
    if (urlparts.length>=2) {

        var prefix= encodeURIComponent(parameter.substring(1))+'=';
        var pars= urlparts[1].split(/[&;]/g);

        //reverse iteration as may be destructive
        for (var i= pars.length; i-- > 0;) {
            //idiom for string.startsWith
            if (pars[i].indexOf(parameter.substring(1)) !== -1) {
                pars.splice(i, 1);
            }
        }
        url= urlparts[0]+'?'+pars.join('&');
        return url;
    } else {
        return url;
    }
}


$(document).ready(function(){
    $("#search-t").click(function(){
      location.href=removeURLParameter(location.href,((($(this).text()).slice(0,-3)).replace(/ /g,"*")).replace(/ /g,"+"))
    });
    $("#gallery-t").click(function(){
      location.href=removeURLParameter(location.href,((($(this).text()).slice(0,-3))).replace(/ /g,"+"))
    });
    $("#tags-t").click(function(){
      location.href=removeURLParameter(location.href,((($(this).text()).slice(0,-3)).replace(/ /g,"*")).replace(/ /g,"+"))
    });
    $("#brand-t").click(function(){
      location.href=removeURLParameter(location.href,((($(this).text()).slice(0,-3)).replace(/ /g,"*")).replace(/ /g,"+"))
    });
})


</script>
<% end %>
